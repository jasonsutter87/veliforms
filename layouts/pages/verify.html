{{ define "main" }}
<div class="auth-page">
  <div class="auth-card">
    <div id="verify-loading" class="verify-status">
      <div class="spinner"></div>
      <h1>Verifying your email...</h1>
      <p class="subtitle">Please wait</p>
    </div>

    <div id="verify-success" class="verify-status" style="display: none;">
      <div class="success-icon">&#10003;</div>
      <h1>Email verified!</h1>
      <p class="subtitle">Your account is now active</p>
      <a href="/login/" class="btn">Sign In</a>
    </div>

    <div id="verify-already" class="verify-status" style="display: none;">
      <div class="success-icon">&#10003;</div>
      <h1>Already verified</h1>
      <p class="subtitle">Your email was already verified</p>
      <a href="/login/" class="btn">Sign In</a>
    </div>

    <div id="verify-error" class="verify-status" style="display: none;">
      <div class="error-icon">&#10005;</div>
      <h1>Verification failed</h1>
      <p class="subtitle" id="verify-error-message">The link may have expired or is invalid</p>
      <div class="verify-actions">
        <button class="btn btn-secondary" id="resend-btn">Resend verification email</button>
        <a href="/register/" class="btn">Create new account</a>
      </div>
    </div>

    <div id="verify-no-token" class="verify-status" style="display: none;">
      <div class="info-icon">!</div>
      <h1>Check your email</h1>
      <p class="subtitle">We sent a verification link to your email address</p>
      <div class="resend-section">
        <p>Didn't receive it?</p>
        <form id="resend-form">
          <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" id="email" name="email" required autocomplete="email">
          </div>
          <button type="submit" class="btn btn-secondary" id="resend-submit-btn">Resend verification email</button>
        </form>
        <div class="success-message" id="resend-success" style="display: none;">
          Verification email sent! Check your inbox.
        </div>
        <div class="error-message" id="resend-error" style="display: none;"></div>
      </div>
    </div>

    <div class="auth-links">
      <p><a href="/login/">Back to sign in</a></p>
    </div>
  </div>
</div>
{{ end }}
